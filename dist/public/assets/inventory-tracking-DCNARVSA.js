import{l as u,j as e,C as a,a as n,m as h,n as b}from"./index-CuDmVYun.js";import{D as j,T as N,p as g}from"./dashboard-layout-RBv1DXX2.js";import{D as p}from"./data-table-B69p7Klv.js";import{P as f,T as k}from"./users-DXv82DeH.js";import"./circle-alert-CPwmOhkC.js";import"./badge-DMaRL5Qw.js";function w(){const{data:l=[],isLoading:o}=u({queryKey:["/api/hotels/current/inventory-items"],refetchInterval:3e3}),i=(t,s)=>t<=s?{status:"Low Stock",color:"text-red-600 bg-red-100"}:t<=s*1.5?{status:"Medium",color:"text-orange-600 bg-orange-100"}:{status:"In Stock",color:"text-green-600 bg-green-100"},r=l.filter(t=>Number(t.baseStockQty)<=Number(t.reorderLevel)),m=l.reduce((t,s)=>t+Number(s.baseStockQty)*Number(s.costPerUnit||0),0),x=[{key:"name",label:"Item Name",sortable:!0},{key:"baseStockQty",label:"Current Stock",sortable:!0,render:(t,s)=>{const c=Number(t||0).toFixed(2),d=Number(s.packageStockQty||0).toFixed(2);return e.jsxs("span",{children:[c," ",s.baseUnit,s.packageUnit&&` (${d} ${s.packageUnit})`]})}},{key:"reorderLevel",label:"Reorder Level",render:(t,s)=>`${Number(t).toFixed(2)} ${s.baseUnit}`},{key:"costPerUnit",label:"Cost/Unit",render:t=>{const s=Number(t);return!isNaN(s)&&s>0?`NPR ${s.toFixed(2)}`:"N/A"}},{key:"storageLocation",label:"Storage Location",render:t=>t||"N/A"},{key:"status",label:"Status",render:(t,s)=>{const{status:c,color:d}=i(Number(s.baseStockQty),Number(s.reorderLevel));return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d}`,children:c})}}];return e.jsx(j,{title:"Restaurant Inventory Tracking",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(a,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),e.jsx(f,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(a,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock Items"}),e.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),e.jsx(N,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(a,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["रु",m.toFixed(0)]})]}),e.jsx(k,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(a,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Need Reorder"}),e.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),e.jsx(g,{className:"h-8 w-8 text-orange-500"})]})})})]}),r.length>0&&e.jsxs(a,{className:"border-red-200 bg-red-50",children:[e.jsx(h,{children:e.jsx(b,{className:"text-red-800",children:"Low Stock Alert"})}),e.jsxs(n,{children:[e.jsxs("p",{className:"text-red-700 mb-3",children:[r.length," item(s) are running low and need to be restocked:"]}),e.jsx("div",{className:"space-y-1",children:r.map((t,s)=>e.jsxs("div",{className:"text-sm text-red-600",children:["• ",t.name,": ",Number(t.baseStockQty).toFixed(2)," ",t.baseUnit," (Reorder at ",Number(t.reorderLevel).toFixed(2)," ",t.baseUnit,")"]},s))})]})]}),e.jsx(p,{title:"Restaurant Inventory",data:l,columns:x,isLoading:o,searchPlaceholder:"Search inventory items..."})]})})}export{w as default};
