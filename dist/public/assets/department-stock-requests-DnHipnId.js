import{l as d,j as e,C as o,m as l,n as m,y as x,a as u}from"./index-CuDmVYun.js";import{D as h,o as p,ad as j,i as v}from"./dashboard-layout-RBv1DXX2.js";import{B as a}from"./badge-DMaRL5Qw.js";import{P as f}from"./users-DXv82DeH.js";import"./circle-alert-CPwmOhkC.js";function b(){const{data:n=[]}=d({queryKey:["/api/hotels/current/inventory-items"],refetchInterval:3e3}),{data:r=[]}=d({queryKey:["/api/hotels/current/stock-requests/department"],refetchInterval:3e3}),i=t=>{switch(t){case"pending":return e.jsxs(a,{variant:"outline",className:"bg-yellow-50",children:[e.jsx(v,{className:"w-3 h-3 mr-1"})," Pending"]});case"approved":return e.jsxs(a,{variant:"outline",className:"bg-blue-50",children:[e.jsx(j,{className:"w-3 h-3 mr-1"})," Ready to Pickup"]});case"delivered":return e.jsxs(a,{variant:"outline",className:"bg-green-50",children:[e.jsx(p,{className:"w-3 h-3 mr-1"})," Delivered"]});default:return e.jsx(a,{variant:"outline",children:t})}},c=t=>n.find(s=>s.id===t);return e.jsx(h,{title:"Department Stock Requests",children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Department Stock Requests"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"View stock requests from your department staff"})]}),e.jsxs(o,{children:[e.jsxs(l,{children:[e.jsx(m,{children:"Stock Request Records"}),e.jsx(x,{children:"All stock requests from department staff members"})]}),e.jsx(u,{children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(f,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No stock requests from your department"})]}):e.jsx("div",{className:"space-y-3",children:r.map(t=>{const s=c(t.itemId);return e.jsx("div",{className:"border rounded-lg p-4","data-testid":`request-${t.id}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-lg","data-testid":`text-item-${t.id}`,children:(s==null?void 0:s.name)||"Unknown Item"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Requested Quantity: ",e.jsxs("span",{className:"font-medium",children:[t.quantity," ",t.unit]})]}),t.notes&&e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Notes: ",t.notes]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Requested: ",new Date(t.createdAt).toLocaleString()]}),t.status==="approved"&&t.approvedAt&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Approved: ",new Date(t.approvedAt).toLocaleString()]}),t.status==="delivered"&&t.deliveredAt&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Delivered: ",new Date(t.deliveredAt).toLocaleString()]})]}),e.jsx("div",{"data-testid":`status-${t.id}`,children:i(t.status)})]})},t.id)})})})]})]})})}export{b as default};
