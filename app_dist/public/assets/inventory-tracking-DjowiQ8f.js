import{r as g,l as d,j as e,C as l,m as i,n as c,a as o,I as f}from"./index-Dk6nXF67.js";import{D as v,c as N,A as y}from"./dashboard-layout-BUO8e75G.js";import{B as m}from"./badge-P46XOlcm.js";import{a as x}from"./users-Dxbor6Q1.js";import"./circle-alert-BbQxKC8I.js";function I(){const[r,h]=g.useState(""),{data:u=[],isLoading:p}=d({queryKey:["/api/hotels/current/inventory-items"],refetchInterval:3e3}),{data:t=[]}=d({queryKey:["/api/hotels/current/low-stock-items"],refetchInterval:3e3}),a=u.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())),n=s=>t.some(j=>j.id===s);return e.jsx(v,{title:"Inventory Tracking",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsxs(l,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(N,{className:"w-5 h-5"}),"All Inventory Items"]})}),e.jsxs(o,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(f,{type:"text",placeholder:"Search inventory items...",value:r,onChange:s=>h(s.target.value),className:"pl-10","data-testid":"input-search-inventory"})]})}),p?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading inventory..."}):a.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8","data-testid":"no-items-message",children:r?"No items found":"No inventory items"}):e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsx("div",{className:`p-3 sm:p-4 border rounded-lg ${n(s.id)?"border-red-300 bg-red-50 dark:bg-red-950":"hover:bg-accent"} transition-colors`,"data-testid":`inventory-item-${s.id}`,children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg","data-testid":`item-name-${s.id}`,children:s.name}),n(s.id)&&e.jsxs(m,{variant:"destructive",className:"flex items-center gap-1 w-fit",children:[e.jsx(x,{className:"w-3 h-3"}),"Low Stock"]})]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Current Stock:"}),e.jsxs("span",{className:"ml-2 font-medium","data-testid":`item-current-qty-${s.id}`,children:[s.baseStockQty||0," ",s.baseUnit||"units"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Reorder Level:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[s.reorderLevel||0," ",s.baseUnit||"units"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cost/Unit:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["रु",parseFloat(s.costPerUnit||0).toFixed(2)]})]}),s.storageLocation&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Location:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.storageLocation})]})]})]})})},s.id))})]})]}),t.length>0&&e.jsxs(l,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[e.jsx(x,{className:"w-5 h-5"}),"Low Stock Alerts (",t.length,")"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-2",children:t.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-red-200 rounded-lg bg-red-50 dark:bg-red-950","data-testid":`low-stock-alert-${s.id}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",s.currentQty," ",s.unit," | Min: ",s.minQty," ",s.unit]})]}),e.jsx(m,{variant:"destructive",children:"Action Required"})]},s.id))})})]})]})})}export{I as default};
